import matplotlib.pyplot as plt

# データの定義
x = [0.04 * i for i in range(1, 13)]  # [0.02, 0.04, ..., 0.2]

x_name = ["RAW", "ILH"]

err = [
    # # RAW
    # [0, 0, 0, 0, 3.15696e-05, 0, 0, 0, 0, 0, 0, 0],
    # # HAMMING
    # [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    # # ILH
    # [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    # RAW-HE
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    # HMG-HE
    # [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    # ILH-HE
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
]

fdp = [
    # # RAW
    # [0.000787402, 0.000545086, 0.00072584, 0.000468658, 0.000536396, 0.000445656, 0.000780292, 0.000555445, 0.000540948, 0.000737048, 0.000599926, 0.000577968],
    # # HAMMING
    # [0.000305437, 0.00078284, 0.00112809, 0.00102318, 0.0011498, 0.000856929, 0.00074845, 0.0012364, 0.000951676, 0.00114938, 0.00113997, 0.00100057],
    # # ILH
    # [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    # RAW-HE
    [0.00722743, 0.00530463, 0.00616768, 0.00548856, 0.00602132, 0.00639293, 0.00560416, 0.00588745, 0.0063193, 0.00620215, 0.00565004, 0.00607944],
    # HMG-HE
    # [0.0115013, 0.0112166, 0.0100476, 0.0112723, 0.0101574, 0.00996094, 0.00949606, 0.0109524, 0.00973245, 0.0112523, 0.00957057, 0.0105692],
    # ILH-HE
    [0, 0, 0, 0, 0, 0, 0, 0, 0.000106183, 3.5246e-05, 0, 0],
]

gad = [
    # # RAW
    # [8.84542, 10.6045, 13.2753, 16.6886, 21.9582, 32.6013, 66.9914, 1010.45, 5106.42, 9358.1, 12942.4, 16277.9],
    # # HAMMING
    # [12.4732, 20.773, 45.9961, 174.743, 5455.24, 13161.9, 18624.2, 22208.3, 25586.4, 28050.2, 30119, 31901.9],
    # # ILH
    # [12.4274, 20.9678, 43.4113, 250.485, 6094.67, 13640.6, 18246.5, 22122.1, 25709.7, 27930, 29688.2, 31898.8],
    # RAW-HE
    [8.84845, 10.5732, 13.347, 16.7414, 22.9471, 33.2237, 68.7021, 885.483, 5045.58, 9438.13, 13234.6, 16194.9],
    # HMG-HE
    # [12.7431, 21.7509, 46.3026, 285.223, 7167.08, 13413.6, 18857.7, 22704.4, 26296.2, 28073.6, 30031.6, 31953.8],
    # ILH-HE
    [12.4362, 20.7222, 40.7478, 208.231, 5711.2, 12738.5, 18140, 21869.9, 25263.4, 27806.3, 30049.9, 31709.7],
]

nt = [
    # # RAW
    # [0.508051, 1.02726, 1.5433, 2.04742, 2.53564, 3.05198, 3.59057, 4.03515, 4.14378, 4.12731, 4.13824, 4.15457],
    # # HAMMING
    # [0.91704, 1.78967, 2.7369, 3.56601, 3.90563, 3.92696, 3.93483, 3.97169, 3.9767, 3.90413, 3.93207, 3.91965],
    # # ILH
    # [0.898838, 1.78859, 2.71399, 3.60136, 3.92871, 3.9232, 3.95584, 3.92218, 3.94453, 3.94306, 3.94188, 3.9396],
    # RAW-HE
    [0.520404, 1.02574, 1.52913, 2.07094, 2.60464, 3.07945, 3.61324, 4.06747, 4.12884, 4.13066, 4.14965, 4.14774],
    # HMG-HE
    # [0.925606, 1.80585, 2.73564, 3.63618, 3.92809, 3.94184, 3.91897, 3.93553, 3.91693, 3.97816, 3.95083, 3.9343],
    # ILH-HE
    [0.901242, 1.79456, 2.67237, 3.60737, 3.93906, 3.97993, 3.94421, 3.95924, 3.95586, 3.97306, 3.9334, 3.97224],
]

# プロットの作成
fig, axes = plt.subplots(1, 2, figsize=(16, 6), sharex=True, sharey=False)

plt.suptitle("delay and through put")

# グラフ1の描画
for idx, series in enumerate(gad, start=0):
    axes[0].plot(x, series, marker='o', label=x_name[idx])
axes[0].set_xlabel('injection rate')
axes[0].set_ylabel('global average delay')
axes[0].set_ylim(bottom=0,top=1000)
axes[0].legend()
axes[0].grid(True)

# グラフ2の描画
for idx, series in enumerate(nt, start=0):
    axes[1].plot(x, series, marker='o', label=x_name[idx])
axes[1].set_xlabel('injection rate')
axes[1].set_ylabel('network throughput (flits/cycle)')
axes[1].legend()
axes[1].grid(True)


# レイアウトの調整
plt.tight_layout(rect=[0, 0.03, 1, 0.95]) 

# グラフの表示
plt.show()
